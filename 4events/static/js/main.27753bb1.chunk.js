(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{521:function(e,a,t){e.exports=t(955)},526:function(e,a,t){},772:function(e,a){},774:function(e,a){},955:function(e,a,t){"use strict";t.r(a);var r={};t.r(r),t.d(r,"setup",function(){return Ie}),t.d(r,"login",function(){return Se});var n=t(1),o=t.n(n),c=t(37),i=t.n(c),s=(t(526),t(205)),l=t(206),u=t(234),m=t(207),d=t(235),f=t(30),E=t(981),p=t(979),v=t(430),g=t.n(v),b=t(432),_=t.n(b),y=function(){return o.a.createElement(g.a,null,o.a.createElement(_.a,null,"Pantalla Principal del BackOffice"))},j=t(982),O=t(985),h=t(962),T=t(963),P=t(434),w=t(433),I=t.n(w),S=(Object(P.withStyles)({urlLink:{textDecoration:"none"},urlLinkIcon:{width:"0.5em",paddingLeft:"2px"}})(function(e){var a=e.record,t=void 0===a?{}:a,r=e.source,n=e.classes;return o.a.createElement("a",{href:"http://"+t[r],target:"_new",className:n.urlLink},t[r],o.a.createElement(I.a,{className:n.urlLinkIcon}))}),function(e){return o.a.createElement(j.a,Object.assign({},e,{sort:{field:"alias",order:"ASC"}}),o.a.createElement(O.a,{rowClick:"edit"},o.a.createElement(h.a,{source:"alias"}),o.a.createElement(h.a,{source:"first_name"}),o.a.createElement(T.a,{source:"email"}),o.a.createElement(h.a,{source:"profile"})))}),C=t(443),D=t.n(C).a,A=t(444),k=t.n(A).a,x=t(986),z=t(964),F=t(965),q=function(e){return o.a.createElement(x.a,e,o.a.createElement(z.a,{label:"Search",source:"q",alwaysOn:!0}))},L=function(e){return o.a.createElement(j.a,Object.assign({},e,{sort:{field:"company",order:"ASC"},filters:o.a.createElement(q,null)}),o.a.createElement(O.a,{rowClick:"edit"},o.a.createElement(h.a,{source:"company"}),o.a.createElement(h.a,{source:"first_name"}),o.a.createElement(h.a,{source:"last_name"}),o.a.createElement(T.a,{source:"email"}),o.a.createElement(h.a,{source:"profile"}),o.a.createElement(F.a,null)))},R=t(991),N=t(966),U=t(988),G=t(969),H=function(e){return o.a.createElement(R.a,e,o.a.createElement(N.a,null,o.a.createElement(z.a,{source:"idn"}),o.a.createElement(z.a,{source:"company_name"}),o.a.createElement(z.a,{source:"alias"}),o.a.createElement(z.a,{source:"email"}),o.a.createElement(z.a,{source:"password"}),o.a.createElement(z.a,{source:"first_name"}),o.a.createElement(z.a,{source:"last_name"}),o.a.createElement(z.a,{source:"address"}),o.a.createElement(z.a,{source:"zip_code"}),o.a.createElement(z.a,{source:"city"}),o.a.createElement(U.a,{source:"province",reference:"provinces"},o.a.createElement(G.a,{optionText:"name"})),o.a.createElement(U.a,{source:"country",reference:"countries"},o.a.createElement(G.a,{optionText:"name"})),o.a.createElement(z.a,{source:"mobile_number"}),o.a.createElement(z.a,{source:"phone_number"})))},V=t(987),J=t(970),B=(t(954),function(e){var a=e.record;return o.a.createElement("span",null," ",function(e){if(!e)return"";var a=function(e){if(!e)return"";var a=e.first_name,t=e.last_name;return t&&""!==t?"".concat(a," ").concat(t):"".concat(a)}(e),t=e.email;return"".concat(a," (").concat(t,")")}(a))}),M=function(e){return o.a.createElement(V.a,Object.assign({},e,{title:o.a.createElement(B,null)}),o.a.createElement(N.a,{redirect:!1},o.a.createElement(J.a,{source:"id"}),o.a.createElement(z.a,{source:"idn"}),o.a.createElement(z.a,{source:"company_name"}),o.a.createElement(z.a,{source:"alias"}),o.a.createElement(z.a,{source:"email"}),o.a.createElement(z.a,{source:"first_name"}),o.a.createElement(z.a,{source:"last_name"}),o.a.createElement(z.a,{source:"address"}),o.a.createElement(z.a,{source:"zip_code"}),o.a.createElement(z.a,{source:"city"}),o.a.createElement(U.a,{source:"province",reference:"provinces"},o.a.createElement(G.a,{optionText:"name"})),o.a.createElement(U.a,{source:"country",reference:"countries"},o.a.createElement(G.a,{optionText:"name"})),o.a.createElement(z.a,{source:"mobile_number"}),o.a.createElement(z.a,{source:"phone_number"})))},W=function(e){return o.a.createElement(x.a,e,o.a.createElement(z.a,{label:"Search",source:"q",alwaysOn:!0}))},K=function(e){return o.a.createElement(j.a,Object.assign({},e,{sort:{field:"alias",order:"ASC"},filters:o.a.createElement(W,null)}),o.a.createElement(O.a,{rowClick:"edit"},o.a.createElement(h.a,{source:"alias"}),o.a.createElement(h.a,{source:"first_name"}),o.a.createElement(h.a,{source:"last_name"}),o.a.createElement(T.a,{source:"email"}),o.a.createElement(h.a,{source:"profile"}),o.a.createElement(F.a,null)))},Q=function(e){return o.a.createElement(R.a,e,o.a.createElement(N.a,null,o.a.createElement(z.a,{source:"alias"}),o.a.createElement(z.a,{source:"email"}),o.a.createElement(z.a,{source:"password"}),o.a.createElement(z.a,{source:"first_name"}),o.a.createElement(z.a,{source:"last_name"}),o.a.createElement(z.a,{source:"address"}),o.a.createElement(z.a,{source:"zip_code"}),o.a.createElement(z.a,{source:"city"}),o.a.createElement(U.a,{source:"province",reference:"provinces"},o.a.createElement(G.a,{optionText:"name"})),o.a.createElement(U.a,{source:"country",reference:"countries"},o.a.createElement(G.a,{optionText:"name"})),o.a.createElement(z.a,{source:"mobile_number"})))},Y=function(e){var a=e.record;return o.a.createElement("span",null," ",function(e){if(!e)return"";var a=function(e){if(!e)return"";var a=e.first_name,t=e.last_name;return t&&""!==t?"".concat(a," ").concat(t):"".concat(a)}(e),t=e.email;return"".concat(a," (").concat(t,")")}(a))},$=function(e){return o.a.createElement(V.a,Object.assign({},e,{title:o.a.createElement(Y,null)}),o.a.createElement(N.a,{redirect:!1},o.a.createElement(J.a,{source:"id"}),o.a.createElement(z.a,{source:"alias"}),o.a.createElement(z.a,{source:"email"}),o.a.createElement(z.a,{source:"first_name"}),o.a.createElement(z.a,{source:"last_name"}),o.a.createElement(z.a,{source:"address"}),o.a.createElement(z.a,{source:"zip_code"}),o.a.createElement(z.a,{source:"city"}),o.a.createElement(U.a,{source:"province",reference:"provinces"},o.a.createElement(G.a,{optionText:"name"})),o.a.createElement(U.a,{source:"country",reference:"countries"},o.a.createElement(G.a,{optionText:"name"})),o.a.createElement(z.a,{source:"mobile_number"})))},X=t(457),Z=t.n(X).a,ee=t(458),ae=t.n(ee).a,te=t(82),re=t(120),ne=t.n(re)()({name:{padding:"0 2em 0 4em"}})(function(e){var a=e.classes,t=Object(te.a)(e,["classes"]);return o.a.createElement(j.a,Object.assign({},t,{sort:{field:"name",order:"ASC"},pagination:null}),o.a.createElement(O.a,null,o.a.createElement(h.a,{source:"name",className:a.name}),o.a.createElement(F.a,null)))}),oe=function(e){return o.a.createElement(R.a,e,o.a.createElement(N.a,{redirect:"/eventtypes"},o.a.createElement(z.a,{source:"name"})))},ce=function(e){return o.a.createElement(V.a,e,o.a.createElement(N.a,null,o.a.createElement(J.a,{source:"id"}),o.a.createElement(z.a,{source:"name"})))},ie=t(989),se=t(971),le=function(e){return o.a.createElement(j.a,Object.assign({},e,{sort:{field:"begin_date",order:"DESC"}}),o.a.createElement(O.a,{rowClick:"edit"},o.a.createElement(ie.a,{source:"organizer",reference:"organizers"},o.a.createElement(h.a,{source:"email"})),o.a.createElement(se.a,{source:"begin_date"}),o.a.createElement(h.a,{source:"name"}),o.a.createElement(ie.a,{source:"event_type",reference:"eventtypes"},o.a.createElement(h.a,{source:"name"})),o.a.createElement(h.a,{source:"city"}),o.a.createElement(F.a,null)))},ue=t(984),me=t(972),de=t(973),fe=t(974),Ee=t(975),pe=t(976),ve=t(977),ge=t(978),be=function(e){var a=e.record;return o.a.createElement("span",null," ",a?'Evento "'.concat(a.name,'"'):"")},_e=function(e){return o.a.createElement(V.a,Object.assign({},e,{title:o.a.createElement(be,null)}),o.a.createElement(ue.a,{redirect:!1,validate:function(e){return function(e){var a={};return e.begin_date&&e.begin_date.getTime&&!e.begin_date.getTime()&&(a.begin_date=["Fecha incorrecta"]),e.end_date&&e.end_date.getTime&&!e.end_date.getTime()&&(a.end_date=["Fecha incorrecta"]),a}(e)}},o.a.createElement(me.a,{label:"Datos Generales"},o.a.createElement(U.a,{source:"organizer",reference:"organizers",validate:Object(de.a)()},o.a.createElement(G.a,{optionText:"email"})),o.a.createElement(fe.a,{source:"begin_date",validate:Object(de.a)()}),o.a.createElement(Ee.a,null,function(e){var a=e.formData,t=Object(te.a)(e,["formData"]);return o.a.createElement(fe.a,Object.assign({source:"end_date",validate:Object(de.a)(),defaultValue:a.begin_date&&a.begin_date.getTime?new Date(a.begin_date.getTime()+36e5):void 0},t))}),o.a.createElement(z.a,{source:"name",validate:Object(de.a)()}),o.a.createElement(U.a,{source:"event_type",reference:"eventtypes",validate:Object(de.a)()},o.a.createElement(G.a,{optionText:"name"})),o.a.createElement(z.a,{source:"city",validate:Object(de.a)()}),o.a.createElement(pe.a,{source:"description"})),o.a.createElement(me.a,{label:"Ubicaci\xf3n"},o.a.createElement(z.a,{source:"location",defaultValue:"-5.748529,41.513958"}),o.a.createElement(z.a,{source:"adress"}),o.a.createElement(z.a,{source:"zip_code"}),o.a.createElement(U.a,{source:"province",reference:"provinces"},o.a.createElement(G.a,{optionText:"name"})),o.a.createElement(U.a,{source:"country",reference:"countries"},o.a.createElement(G.a,{optionText:"name"}))),o.a.createElement(me.a,{label:"Informaci\xf3n Adicional"},o.a.createElement(ve.a,{source:"min_age"}),o.a.createElement(Ee.a,null,function(e){var a=e.formData,t=Object(te.a)(e,["formData"]);return a.indoor&&o.a.createElement(ve.a,Object.assign({source:"max_visitors"},t))}),o.a.createElement(ge.a,{source:"indoor"}),o.a.createElement(Ee.a,null,function(e){var a=e.formData,t=Object(te.a)(e,["formData"]);return!a.free&&o.a.createElement(ve.a,Object.assign({source:"price"},t))}),o.a.createElement(ge.a,{source:"free",defaultValue:!0}))))},ye=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement(R.a,this.props,o.a.createElement(ue.a,{validate:function(e){return function(e){var a={};return e.begin_date&&e.begin_date.getTime&&!e.begin_date.getTime()&&(a.begin_date=["Fecha incorrecta"]),e.end_date&&e.end_date.getTime&&!e.end_date.getTime()&&(a.end_date=["Fecha incorrecta"]),a}(e)}},o.a.createElement(me.a,{label:"Datos Generales"},o.a.createElement(U.a,{source:"organizer",reference:"organizers",validate:Object(de.a)()},o.a.createElement(G.a,{optionText:"email"})),o.a.createElement(fe.a,{source:"begin_date",validate:Object(de.a)()}),o.a.createElement(Ee.a,null,function(e){var a=e.formData,t=Object(te.a)(e,["formData"]);return o.a.createElement(fe.a,Object.assign({source:"end_date",validate:Object(de.a)(),defaultValue:a.begin_date&&a.begin_date.getTime?new Date(a.begin_date.getTime()+36e5):void 0},t))}),o.a.createElement(z.a,{source:"name",validate:Object(de.a)()}),o.a.createElement(U.a,{source:"event_type",reference:"eventtypes",validate:Object(de.a)()},o.a.createElement(G.a,{optionText:"name"})),o.a.createElement(z.a,{source:"city",validate:Object(de.a)()}),o.a.createElement(pe.a,{source:"description"})),o.a.createElement(me.a,{label:"Ubicaci\xf3n"},o.a.createElement(z.a,{source:"location",defaultValue:"-5.748529,41.513958"}),o.a.createElement(z.a,{source:"adress"}),o.a.createElement(z.a,{source:"zip_code"}),o.a.createElement(U.a,{source:"province",reference:"provinces"},o.a.createElement(G.a,{optionText:"name"})),o.a.createElement(U.a,{source:"country",reference:"countries"},o.a.createElement(G.a,{optionText:"name"}))),o.a.createElement(me.a,{label:"Informaci\xf3n Adicional"},o.a.createElement(ve.a,{source:"min_age"}),o.a.createElement(Ee.a,null,function(e){var a=e.formData,t=Object(te.a)(e,["formData"]);return a.indoor&&o.a.createElement(ve.a,Object.assign({source:"max_visitors"},t))}),o.a.createElement(ge.a,{source:"indoor"}),o.a.createElement(Ee.a,null,function(e){var a=e.formData,t=Object(te.a)(e,["formData"]);return!a.free&&o.a.createElement(ve.a,Object.assign({source:"price"},t))}),o.a.createElement(ge.a,{source:"free",defaultValue:!0}))))}}]),a}(n.Component),je=t(465),Oe=t.n(je).a,he={baseURL:"https://services.4events.net"},Te={apiKey:"AIzaSyBkfgSNKCSuH0Qmx7y5rsHKw2v4TtFyml0",authDomain:"forevents-3a85b.firebaseapp.com",databaseURL:"https://forevents-3a85b.firebaseio.com",projectId:"forevents-3a85b",storageBucket:"forevents-3a85b.appspot.com",messagingSenderId:"452983298535",firebaseBucketConsole:"https://console.firebase.google.com/project/forevents-3a85b/storage/forevents-3a85b.appspot.com/files"},Pe=t(239),we=t.n(Pe);function Ie(e){we.a.defaults.baseURL=e.baseURL,we.a.defaults.headers.post["Content-Type"]="application/json",console.log("<API> 4EVENTS.NET Axios Settings Ready. serviceConfig=%o",e)}function Se(e,a){return we.a.post("/apiv1/users/login",{email:e,password:a})}var Ce=t(240),De=t(25),Ae=t(894),ke=t(202),xe=t(300),ze=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.headers||(a.headers=new Headers({Accept:"application/json"})),a.headers.set("Content-Type","application/x-www-form-urlencoded");var t=localStorage.getItem("token");return t&&a.headers.set("x-access-token",t),Ae.a.fetchJson(e,a)},Fe=function(e,a){Ie(e),function(e){Ce.initializeApp(e),Ce.auth().signInAnonymously().catch(function(e){}),console.log("<APIFirebase> Firebase Initialized!")}(a)},qe=t(488),Le=function(e){return function(e){return Ce.storage().ref().child("images/"+(new Date).getTime()+"_"+e.name).put(e,{contentType:e.type}).then(function(e){return e.ref.getDownloadURL()})}(e.rawFile)},Re=function(e){return function(a,t,r){if(console.log("<UploadFeature> requestHandler: type=%o, resource=%o, params=%o",a,t,r),"CREATE"===a&&"posts"===t){var n=[r.data.pictures];return console.log("<UploadFeature> requestHandler: CREATE, newPictures=%o",n),Promise.all(n.map(Le)).then(function(e){return e.map(function(e){return{src:e,title:"".concat(r.data.title)}})}).then(function(n){return e(a,t,Object(f.a)({},r,{data:Object(f.a)({},r.data,{pictures:Object(qe.a)(n)})}))})}return e(a,t,r)}},Ne=t(416),Ue=function(e,a){if(e===Ne.d){var t=a.username,n=a.password;return r.login(t,n).then(function(e){if(console.log("<AuthProvider> Response response=%o",e),e.status<200||e.status>=300)throw new Error(e.statusText);localStorage.setItem("token",e.data.token),localStorage.setItem("id",e.data.user._id),localStorage.setItem("role",e.data.user.profile)}).catch(function(e){var a=e.config,t=e.request,r=e.response;throw console.log("<AuthProvider> Exception caught, args=%o, config=%o, request=%o, response=%o",arguments,a,t,r),new Error(r.data.message)})}if(e===Ne.e)return localStorage.removeItem("token"),localStorage.removeItem("id"),localStorage.removeItem("role"),Promise.resolve();if(e===Ne.b){var o=a.status;return 401===o||403===o?(localStorage.removeItem("token"),localStorage.removeItem("id"),localStorage.removeItem("role"),Promise.reject()):Promise.resolve()}return Promise.resolve()},Ge=t(466),He=t.n(Ge),Ve={ra:{page:{dashboard:"Inicio "},action:{export:"Exportar (CSV)",sort:"Ordenar"},navigation:{page_rows_per_page:"Registros por p\xe1gina:"},message:{invalid_form:"Datos inv\xe1lidos. Por favor corrija los errores detectados"}},app:{user_or_pass_wrong:"Usuario o contrase\xf1a incorrectos",user_email_duplicated:"El email indicado ya se encuentra en uso",user_or_password_wrong:"Usuario o contrase\xf1a incorrectos","Not Found":"Sin resultados",invalid_format_city:"Formato incorrecto (Poblaci\xf3n)",invalid_format_mobile_number:"Formato incorrecto (M\xf3vil)",invalid_format_phone_number:"Formato incorrecto (Tel\xe9fono)",invalid_format_email:"Formato incorrecto (Email)",invalid_format_begin_date:"Fecha incorrecta (Inicio)",invalid_date:"Fecha incorrecta",invalid_format_end_date:"Fecha incorrecta (Fin)",error_saving_data:"Error Inesperado del Servidor (500)"},resources:{admins:{name:"Administradores",fields:{first_name:"Nombre",last_name:"Apellido(s)",profile:"Perfil",email:"Email"}},organizers:{name:"Organizadores",fields:{first_name:"Nombre",last_name:"Apellido(s)",profile:"Perfil",email:"Email",address:"Direcci\xf3n",zip_code:"C\xf3digo Postal",city:"Poblaci\xf3n",province:"Provincia",country:"Pa\xeds",idn:"CIF",company_name:"Raz\xf3n Social",mobile_number:"M\xf3vil",phone_number:"Tel\xe9fono",website:"Sitio Web"}},users:{name:"Usuarios",fields:{first_name:"Nombre",last_name:"Apellido(s)",profile:"Perfil",email:"Email"}},eventtypes:{name:"Categor\xedas",fields:{id:"ID",name:"Nombre"}},events:{name:"Eventos",fields:{id:"ID",organizer:"Organizador",begin_date:"Fecha/hora de Inicio",end_date:"Fecha/hora de Fin",name:"Nombre",location:"Posici\xf3n",event_type:"Categor\xeda",city:"Poblaci\xf3n",user:"Asistentes",transaction:"Transacciones",media:"Fotos",adress:"Direcci\xf3n",zip_code:"C\xf3digo Postal",province:"Provincia",country:"Pa\xeds",indoor:"Local Cerrado",max_visitors:"Aforo M\xe1ximo",free:"Gratuito",price:"Precio",min_age:"Edad M\xednima",description:"Descripci\xf3n",create_date:"Fecha de Creaci\xf3n"}}}},Je={es:Object(f.a)({ra:function e(a,t){if(!a&&!t)return null;if(!a)return JSON.parse(JSON.stringify(t));if(!t)return JSON.parse(JSON.stringify(a));var r={};for(var n in a)t[n]&&t[n]instanceof Object?r[n]=e(a[n],t[n]):t[n]?r[n]=t[n]:r[n]=a[n];for(var o in t)a[o]||(r[o]=t[o]);return r}(He.a.ra,Ve.ra),resources:Ve.resources},Ve.app)},Be=function(e){return Je[e]},Me=Re(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze;return function(t,r,n){if(console.log("<APIClient> main: type=%o. resource=%o, params=%o",t,r,n),t===ke.e)return"organizers"===r&&(r="users"),"admins"===r&&(r="users"),Promise.all(n.ids.map(function(t){var n="".concat(e,"/").concat(r,"/").concat(t);return"eventtypes"===r&&(n="".concat(e,"/").concat(r,"?id=").concat(t)),a(n,{method:"GET"})})).then(function(e){return console.log("<APIClient> main: GET_MANY - Got, responses=%o",e),{data:e.map(function(e){return"users"===r?Object(f.a)({},e.json.user,{id:e.json.user._id}):Object(f.a)({},e.json.result,{id:e.json.result._id})})}});if(t===ke.i)return"organizers"===r&&(r="users"),"admins"===r&&(r="users"),Promise.all(n.ids.map(function(t){return a("".concat(e,"/").concat(r,"/").concat(t),{method:"PUT",body:Object(De.stringify)(n.data)})})).then(function(e){return{data:e.map(function(e){return e.json})}});if(t===ke.c)return"organizers"===r&&(r="users"),"admins"===r&&(r="users"),Promise.all(n.ids.map(function(t){var n="".concat(e,"/").concat(r,"/").concat(t,"?").concat(Object(De.stringify)({admin:localStorage.getItem("id")}));return"events"===r&&(n="".concat(e,"/").concat(r,"/").concat(t,"?").concat(Object(De.stringify)({organizer:localStorage.getItem("id"),profile:localStorage.getItem("role")}))),a(n,{method:"DELETE"})})).then(function(e){return{data:e.map(function(e){return e.json})}});var o=function(a,t,r){var n="",o="User";"organizers"===t&&(o="Organizer",t="users"),"admins"===t&&(o="Admin",t="users");var c={};switch(a){case ke.d:var i=r.pagination,s=i.page,l=i.perPage,u=r.sort,m=u.field,d=u.order;if("users"===t){var E="DESC"===d?"-":"",p={};m&&(p.sort=E+m);var v={};r.filter.q&&(v.queryText=r.filter.q),r.filter.create_date&&(v.create_date=r.filter.create_date),v.profile=o,r.filter.city&&(v.city=r.filter.city);var g=Object(f.a)({skip:(s-1)*l,limit:l,includeTotal:"true",fields:"create_date profile email first_name last_name alias address zip_code province country idn company_name mobile_number phone_number favorite_searches transactions events"},p,v);console.log("<APIClient> convertDataRequestToHTTP: GET_LIST - params.filter=%o, query=%o",r.filter,g),n+="".concat(e,"/").concat(t,"/list?").concat(Object(De.stringify)(g))}else if("provinces"===t||"countries"===t){var b="DESC"===d?"-":"",_={};m&&(_.sort=b+m);var y=Object(f.a)({skip:(s-1)*l,limit:l,includeTotal:"true"},_);console.log("<APIClient> convertDataRequestToHTTP: GET_LIST - params.filter=%o, query=%o",r.filter,y),n+="".concat(e,"/").concat(t,"/list?").concat(Object(De.stringify)(y))}else if("eventtypes"===t){var j="DESC"===d?"-":"",O={};m&&(O.sort=j+m);var h=Object(f.a)({skip:(s-1)*l,limit:l,includeTotal:"true"},O);console.log("<APIClient> convertDataRequestToHTTP: GET_LIST - params.filter=%o, query=%o",r.filter,h),n+="".concat(e,"/").concat(t,"?").concat(Object(De.stringify)(h))}else if("events"===t){var T="DESC"===d?"-":"",P={};m&&(P.sort=T+m);var w={};r.filter.q&&(w.queryText=r.filter.q);var I=Object(f.a)({skip:(s-1)*l,limit:l,includeTotal:"true"},P,w);console.log("<APIClient> convertDataRequestToHTTP: GET_LIST - params.filter=%o, query=%o",r.filter,I),n+="".concat(e,"/").concat(t,"?").concat(Object(De.stringify)(I))}else{var S={};r.filter.name&&(S.name=r.filter.name);var C=Object(f.a)({},S);console.log("<APIClient> convertDataRequestToHTTP: GET_LIST - params.filter=%o, query=%o",r.filter,C),n+="".concat(e,"/").concat(t,"?").concat(Object(De.stringify)(C))}break;case ke.g:n+="events"===t||"eventtypes"===t?"".concat(e,"/").concat(t,"?id=").concat(r.id):"".concat(e,"/").concat(t,"/").concat(r.id);break;case ke.h:c.method="PUT","eventtypes"===t?n+="".concat(e,"/").concat(t,"/").concat(r.id,"?").concat(Object(De.stringify)({name:r.data.name})):(n+="".concat(e,"/").concat(t,"/").concat(r.id),delete r.data.__v,delete r.data._id,delete r.data.id,delete r.data.create_date,delete r.data.delete_date,"users"===t?delete r.data.password:"events"===t&&delete r.data.organizer,c.body=Object(De.stringify)(r.data));break;case ke.a:n+="users"===t?"".concat(e,"/").concat(t,"/register"):"eventtypes"===t?"".concat(e,"/").concat(t,"?").concat(Object(De.stringify)(r.data)):"events"===t?"".concat(e,"/").concat(t,"?").concat(Object(De.stringify)(r.data)):"".concat(e,"/").concat(t),c.method="POST","eventtypes"!==t&&"events"!==t&&("users"===t&&(r.data.profile=o),c.body=Object(De.stringify)(r.data));break;case ke.b:n+="events"===t?"".concat(e,"/").concat(t,"/").concat(r.id,"?").concat(Object(De.stringify)({organizer:localStorage.getItem("id"),profile:localStorage.getItem("role")})):"".concat(e,"/").concat(t,"/").concat(r.id,"?").concat(Object(De.stringify)({admin:localStorage.getItem("id")})),c.method="DELETE",console.log("<APIClient> convertDataRequestToHTTP: DELETE - url=%o, options=%o",n,c);break;default:throw new Error("Unsupported fetch  action type ".concat(a))}return{url:n,options:c}}(t,r,n),c=o.url,i=o.options;return a(c,i).then(function(e){return function(e,a,t,r){"organizers"===t&&(t="users"),"admins"===t&&(t="users");var n=e.json;switch(console.log("<APIClient> convertHTTPResponse: Entering, response=%o, type=%o. resource=%o, params=%o",e,a,t,r),a){case ke.d:var o=n.result;"users"===t?o=n.result.rows:"provinces"===t?o=n.result.rows:"countries"===t&&(o=n.result.rows);var c=(o=o.map(function(e){var a=Object(f.a)({id:e._id},e);return"events"===t&&e.location&&e.location.coordinates&&(a.location=e.location.coordinates[0]+","+e.location.coordinates[1]),a})).length;return n.result.total&&(c=n.result.total),{data:o,total:c};case ke.a:if("users"===t)return{data:Object(f.a)({},n.user,{id:n.user._id})};var i={data:Object(f.a)({},n.data,{id:n.data._id})};return"events"===t&&n.data.location&&n.data.location.coordinates&&(i.data.location=n.data.location.coordinates[0]+","+n.data.location.coordinates[1]),i;case ke.g:if("users"===t)return{data:Object(f.a)({},n.user,{id:n.user._id})};if("events"===t){var s={data:Object(f.a)({},n.result[0],{id:n.result[0]._id})};return"events"===t&&n.result[0].location&&n.result[0].location.coordinates&&(s.data.location=n.result[0].location.coordinates[0]+","+n.result[0].location.coordinates[1]),s}return{data:Object(f.a)({},n.result,{id:n.result._id})};case ke.h:if("users"===t)return{data:Object(f.a)({},n.user,{id:n.user._id})};if("events"===t){var l={data:Object(f.a)({},n.result,{id:n.result._id})};return"events"===t&&n.result.location&&n.result.location.coordinates&&(l.data.location=n.result.location.coordinates[0]+","+n.result.location.coordinates[1]),l}return"eventtypes"===t?{data:Object(f.a)({},n.result,{id:n.result._id})}:{data:n};default:return{data:n}}}(e,t,r,n)}).catch(function(e){if(console.log("<APIClient> Exception caught, args=%o, status=%o",arguments,e.status),e.status<200||e.status>=300){var a=e.body&&e.body.error&&e.body.error.message||e.body&&e.body.result&&e.body.result.message||e.body&&e.body.message||e.message,t=e.body.errors;return t||(t=e.body.result),t&&t.length>0&&(a="invalid_format_"+t[0].field),console.log("<APIClient> Got, errors=%o, message=%o",t,a),Promise.reject(new xe.a(a,e.status))}})}}(he.baseURL+"/apiv1")),We=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"componentWillMount",value:function(){Fe(he,Te)}},{key:"render",value:function(){return o.a.createElement(E.a,{authProvider:Ue,dashboard:y,dataProvider:Me,locale:"es",i18nProvider:Be},o.a.createElement(p.a,{name:"admins",icon:D,list:S}),o.a.createElement(p.a,{name:"organizers",icon:k,list:L,create:H,edit:M}),o.a.createElement(p.a,{name:"users",icon:Z,list:K,create:Q,edit:$}),o.a.createElement(p.a,{name:"events",icon:Oe,list:le,create:ye,edit:_e}),o.a.createElement(p.a,{name:"eventtypes",icon:ae,list:ne,create:oe,edit:ce}),o.a.createElement(p.a,{name:"provinces"}),o.a.createElement(p.a,{name:"countries"}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(We,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[521,2,1]]]);
//# sourceMappingURL=main.27753bb1.chunk.js.map